<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>MQTT Broker and Clients: ClientSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MQTT Broker and Clients
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_client_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ClientSession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ClientSession:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_client_session.png" usemap="#ClientSession_map" alt=""/>
  <map id="ClientSession_map" name="ClientSession_map">
<area href="class_base_session.html" alt="BaseSession" shape="rect" coords="0,0,88,24"/>
<area href="class_base_session.html" alt="BaseSession" shape="rect" coords="98,0,186,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6d72f6c9be7cf497a8103df867d66665"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a6d72f6c9be7cf497a8103df867d66665">ClientSession</a> (bufferevent *bev, const <a class="el" href="structoptions__t.html">options_t</a> &amp;<a class="el" href="class_client_session.html#afe81f42f89b41970e2945543bd6489b1">options</a>)</td></tr>
<tr class="separator:a6d72f6c9be7cf497a8103df867d66665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c6408d5f812da417ebe5523543547bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a3c6408d5f812da417ebe5523543547bc">handle_connack</a> (const <a class="el" href="class_connack_packet.html">ConnackPacket</a> &amp;connack_packet) override</td></tr>
<tr class="separator:a3c6408d5f812da417ebe5523543547bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81a9effe536a00f14c4c71541481688"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#ae81a9effe536a00f14c4c71541481688">handle_puback</a> (const <a class="el" href="class_puback_packet.html">PubackPacket</a> &amp;puback_packet) override</td></tr>
<tr class="separator:ae81a9effe536a00f14c4c71541481688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6887c8b2be5f9f5ea76dd697967a00c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#ac6887c8b2be5f9f5ea76dd697967a00c">handle_pubrec</a> (const <a class="el" href="class_pubrec_packet.html">PubrecPacket</a> &amp;pubrec_packet) override</td></tr>
<tr class="separator:ac6887c8b2be5f9f5ea76dd697967a00c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0edac9d5eab934684ec1eeddc587f5d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a0edac9d5eab934684ec1eeddc587f5d0">handle_pubcomp</a> (const <a class="el" href="class_pubcomp_packet.html">PubcompPacket</a> &amp;pubcomp_packet) override</td></tr>
<tr class="separator:a0edac9d5eab934684ec1eeddc587f5d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921d837e954032fb13e44c0372ed5f2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a921d837e954032fb13e44c0372ed5f2e">disconnect</a> ()</td></tr>
<tr class="separator:a921d837e954032fb13e44c0372ed5f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d72f6c9be7cf497a8103df867d66665"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a6d72f6c9be7cf497a8103df867d66665">ClientSession</a> (bufferevent *bev, const <a class="el" href="structoptions__t.html">options_t</a> &amp;<a class="el" href="class_client_session.html#afe81f42f89b41970e2945543bd6489b1">options</a>)</td></tr>
<tr class="separator:a6d72f6c9be7cf497a8103df867d66665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c6408d5f812da417ebe5523543547bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a3c6408d5f812da417ebe5523543547bc">handle_connack</a> (const <a class="el" href="class_connack_packet.html">ConnackPacket</a> &amp;connack_packet) override</td></tr>
<tr class="separator:a3c6408d5f812da417ebe5523543547bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35488492d27cfe1931660fab31cb5f72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a35488492d27cfe1931660fab31cb5f72">handle_suback</a> (const <a class="el" href="class_suback_packet.html">SubackPacket</a> &amp;suback_packet) override</td></tr>
<tr class="separator:a35488492d27cfe1931660fab31cb5f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3171ca9e7c23c690e7eb4f71d80f6e5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a3171ca9e7c23c690e7eb4f71d80f6e5a">handle_publish</a> (const <a class="el" href="class_publish_packet.html">PublishPacket</a> &amp;publish_packet) override</td></tr>
<tr class="separator:a3171ca9e7c23c690e7eb4f71d80f6e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab31149ee98ac9bc1c96c360637c27fa4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#ab31149ee98ac9bc1c96c360637c27fa4">handle_pubrel</a> (const <a class="el" href="class_pubrel_packet.html">PubrelPacket</a> &amp;pubrel_packet) override</td></tr>
<tr class="separator:ab31149ee98ac9bc1c96c360637c27fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef2fb5ecb8c77e43441a91bd4c73ae3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a2ef2fb5ecb8c77e43441a91bd4c73ae3">packet_manager_event</a> (<a class="el" href="class_packet_manager.html#ac3e07b1a5392ecfcb18b8bfc18decc56">PacketManager::EventType</a> event) override</td></tr>
<tr class="separator:a2ef2fb5ecb8c77e43441a91bd4c73ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_base_session"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_base_session')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_base_session.html">BaseSession</a></td></tr>
<tr class="memitem:a08a81804545478ab29c3620a356c1e0d inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a08a81804545478ab29c3620a356c1e0d">BaseSession</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a08a81804545478ab29c3620a356c1e0d inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ec737a2ef5876edc8ccc220d90741b inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#ab8ec737a2ef5876edc8ccc220d90741b">~BaseSession</a> ()</td></tr>
<tr class="separator:ab8ec737a2ef5876edc8ccc220d90741b inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d2e239cc03cb9a8b1c6de6d6f7117c inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a68d2e239cc03cb9a8b1c6de6d6f7117c">packet_received</a> (std::unique_ptr&lt; <a class="el" href="class_packet.html">Packet</a> &gt; packet)</td></tr>
<tr class="separator:a68d2e239cc03cb9a8b1c6de6d6f7117c inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f74a874203ae8c8f60c00749cc3cbeb inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a6f74a874203ae8c8f60c00749cc3cbeb">handle_connect</a> (const <a class="el" href="class_connect_packet.html">ConnectPacket</a> &amp;connect_packet)</td></tr>
<tr class="separator:a6f74a874203ae8c8f60c00749cc3cbeb inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9977435a580c230dae667110f1f082ef inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a9977435a580c230dae667110f1f082ef">handle_subscribe</a> (const <a class="el" href="class_subscribe_packet.html">SubscribePacket</a> &amp;subscribe_packet)</td></tr>
<tr class="separator:a9977435a580c230dae667110f1f082ef inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406f498aef3116d1b49a77f38f47eb76 inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a406f498aef3116d1b49a77f38f47eb76">handle_unsubscribe</a> (const <a class="el" href="class_unsubscribe_packet.html">UnsubscribePacket</a> &amp;unsubscribe_packet)</td></tr>
<tr class="separator:a406f498aef3116d1b49a77f38f47eb76 inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5ffa81531366957be119ae2ba3cc0c inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a9c5ffa81531366957be119ae2ba3cc0c">handle_unsuback</a> (const <a class="el" href="class_unsuback_packet.html">UnsubackPacket</a> &amp;unsuback_packet)</td></tr>
<tr class="separator:a9c5ffa81531366957be119ae2ba3cc0c inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659185fc50759bb9ae04e4ce08adb26e inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a659185fc50759bb9ae04e4ce08adb26e">handle_pingreq</a> (const <a class="el" href="class_pingreq_packet.html">PingreqPacket</a> &amp;pingreq_packet)</td></tr>
<tr class="separator:a659185fc50759bb9ae04e4ce08adb26e inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c74aa316b7d2a96a431ecf923e80625 inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a2c74aa316b7d2a96a431ecf923e80625">handle_pingresp</a> (const <a class="el" href="class_pingresp_packet.html">PingrespPacket</a> &amp;pingresp_packet)</td></tr>
<tr class="separator:a2c74aa316b7d2a96a431ecf923e80625 inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8632185e157c6f48b518fc18532ece41 inherit pub_methods_class_base_session"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a8632185e157c6f48b518fc18532ece41">handle_disconnect</a> (const <a class="el" href="class_disconnect_packet.html">DisconnectPacket</a> &amp;disconnect_packet)</td></tr>
<tr class="separator:a8632185e157c6f48b518fc18532ece41 inherit pub_methods_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afe81f42f89b41970e2945543bd6489b1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structoptions__t.html">options_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#afe81f42f89b41970e2945543bd6489b1">options</a></td></tr>
<tr class="separator:afe81f42f89b41970e2945543bd6489b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18c9b24c7fa4582a8333eeb32463cfc4"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_client_session.html#a18c9b24c7fa4582a8333eeb32463cfc4">published_packet_id</a> = 0</td></tr>
<tr class="separator:a18c9b24c7fa4582a8333eeb32463cfc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_class_base_session"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_base_session')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_base_session.html">BaseSession</a></td></tr>
<tr class="memitem:a0c5e6c15f009622c218dc5d3a4127574 inherit pub_attribs_class_base_session"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a0c5e6c15f009622c218dc5d3a4127574">client_id</a></td></tr>
<tr class="separator:a0c5e6c15f009622c218dc5d3a4127574 inherit pub_attribs_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef75578ed1dffa0127b17240058123b inherit pub_attribs_class_base_session"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a3ef75578ed1dffa0127b17240058123b">clean_session</a></td></tr>
<tr class="separator:a3ef75578ed1dffa0127b17240058123b inherit pub_attribs_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03cdd6366ba72257d25bf7906d7aef2b inherit pub_attribs_class_base_session"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_packet_manager.html">PacketManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_base_session.html#a03cdd6366ba72257d25bf7906d7aef2b">packet_manager</a></td></tr>
<tr class="separator:a03cdd6366ba72257d25bf7906d7aef2b inherit pub_attribs_class_base_session"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Session class specialized for this publishing client.</p>
<p>Override base class control packet handlers used in message publishing. Any other control packets received will be handled by default methods, in most cases that will result in a thrown exception.</p>
<p>Session class specialized for this publishing client.</p>
<p>Override base class control packet handlers used to subscribe to topics and to receive messages forwarded from the broker. Any other control packets received will be handled by default methods, in most cases that will result in a thrown exception. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6d72f6c9be7cf497a8103df867d66665"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ClientSession::ClientSession </td>
          <td>(</td>
          <td class="paramtype">bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structoptions__t.html">options_t</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bev</td><td>Pointer to the buffer event structure for the broker connection. </td></tr>
    <tr><td class="paramname">options</td><td>Options structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6d72f6c9be7cf497a8103df867d66665"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ClientSession::ClientSession </td>
          <td>(</td>
          <td class="paramtype">bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structoptions__t.html">options_t</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bev</td><td>Pointer to the buffer event structure for the broker connection. </td></tr>
    <tr><td class="paramname">options</td><td>Options structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a921d837e954032fb13e44c0372ed5f2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Disconnect from the broker.</p>
<p>Send a disconnect control packet. Set up libevent to wait for the disconnect packet to be written then close the network connection. </p>

</div>
</div>
<a class="anchor" id="a3c6408d5f812da417ebe5523543547bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_connack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_connack_packet.html">ConnackPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>connack_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a connack control packet from the broker.</p>
<p>This packet will be sent in response to the connect packet that this client will send. Check the return code and disconnect on any error. Otherwise construct a publish packet from the options and send this to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connack_packet</td><td>The connack control packet received. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#a7578ea637f335a2eaec3eab326b9a44f">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="a3c6408d5f812da417ebe5523543547bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_connack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_connack_packet.html">ConnackPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>connack_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a connack control packet from the broker.</p>
<p>This packet will be sent in response to the connect packet that this client will send. Check the return code and disconnect on any error. Otherwise construct a subscribe packet from the options and send it to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connack_packet</td><td>The connack control packet received. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#a7578ea637f335a2eaec3eab326b9a44f">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="ae81a9effe536a00f14c4c71541481688"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_puback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_puback_packet.html">PubackPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>puback_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a puback control packet from the broker.</p>
<p>This packet will be sent in response to a publish message with QoS 1. Compare the packet id with the packet id sent in a previous publish message. Notify in case of a mismatch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">puback_packet</td><td>The received puback control packet. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#a3b7a6b85e64586bf372ca42a4291e2fa">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="a0edac9d5eab934684ec1eeddc587f5d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_pubcomp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_pubcomp_packet.html">PubcompPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>pubcomp_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a pubcomp control packet from the broker.</p>
<p>This packet will be sent in response to a pubrel packet confirmation of a QoS 2 publish message. Compare the packet id sent in a previous publish message. Notify in case of mismatch. On receipt of this message the QoS 2 confirmation exchange is complete. If the packet id matches the the packet id of the original message disconnect from the broker, otherwise stay connected waiting for the pubcomp with the required packet id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">puback_packet</td><td>the received pubcomp packet </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#aef678b5027e1db22861203d4cf0d75d0">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="a3171ca9e7c23c690e7eb4f71d80f6e5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_publish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_publish_packet.html">PublishPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>publish_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a publish control packet from the broker.</p>
<p>This packet will contain forwarded messages from other clients published to the topic. Output the message and acknowledge based on the QoS in the packet. In the case of a QoS 0 message there is no acknowledegment. A Qos 1 message will require a Puback packet in response. A QoS 2 message requires a Pubrec packet from the subscriber followed by a Pubrel packet from the broker and finally a Pubcomp packet is sent from the subscriber.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publish_packet</td><td>the received publish packet </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#a62216493ed1644c32b72ef9b2e9ed65f">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="ac6887c8b2be5f9f5ea76dd697967a00c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_pubrec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_pubrec_packet.html">PubrecPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>pubrec_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a pubrec control packet from the broker.</p>
<p>This packet will be sent in repsponse to a publish message with QoS 2. Compare the packet id with the packet id sent in a previous publish message. Notify in case of mismatch. Send a pubrel packet containing the received packet id in response. Wait for pubcomp control packet response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pubrec_packet</td><td>The received pubrec control packet. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#af1ab1a2d80ebebfffd2551e6cd5fc3a6">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="ab31149ee98ac9bc1c96c360637c27fa4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_pubrel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_pubrel_packet.html">PubrelPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>pubrel_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a pubrel control packet from the broker.</p>
<p>This packet will be sent in repsponse to a Pubrel packet in the QoS 2 protocol flow. Send a Pubcomp packet in response. This completes the QoS 2 flow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pubrel_packet</td><td>The received pubrel control packet. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#a285fb19143ae93f754314d6ed0ffb68b">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="a35488492d27cfe1931660fab31cb5f72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::handle_suback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_suback_packet.html">SubackPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>suback_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a suback control packet from the broker.</p>
<p>This packet will be sent in response to a subscribe message. Check the error code in the packet and if there is an error output an error message but continue to listen for messages. Also check the qos field in the suback packet and compare with the requested qos in the original subscribe. If there is a mismatch output a message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">suback_packet</td><td>The received suback control packet. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#ac641d8a505cba916fa0c9edb063fdaa4">BaseSession</a>.</p>

</div>
</div>
<a class="anchor" id="a2ef2fb5ecb8c77e43441a91bd4c73ae3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientSession::packet_manager_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_packet_manager.html#ac3e07b1a5392ecfcb18b8bfc18decc56">PacketManager::EventType</a>&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle protocol events in the packet manager.</p>
<p>This callback will be called by the packet manager in case of protocol or network error. In most cases the response is to close the connection to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The specific type of the event reported by the packet manager. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_base_session.html#a55eb078750a419ee1a50f71f83e01531">BaseSession</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="afe81f42f89b41970e2945543bd6489b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structoptions__t.html">options_t</a> &amp; ClientSession::options</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to the options structure with members updated from command line arguments. </p>

</div>
</div>
<a class="anchor" id="a18c9b24c7fa4582a8333eeb32463cfc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ClientSession::published_packet_id = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store the packet id of the publish packet we send for comparisison with any puback or pubcomp control packets received from the broker. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/scottb/src/mqtt/src/<a class="el" href="client__pub_8cc.html">client_pub.cc</a></li>
<li>/Users/scottb/src/mqtt/src/<a class="el" href="client__sub_8cc.html">client_sub.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
